---
import { ArrowLeft, BookOpen, FileText, GraduationCap, Mail, User } from "lucide-react";
import BaseLayout from "@/layouts/BaseLayout.astro";
import { profesores } from "@/data/profesores";

export function getStaticPaths() {
  return profesores.map((profesor) => ({
    params: { slug: profesor.slug },
    props: { profesor },
  }));
}

const { profesor } = Astro.props;
---

<BaseLayout
  title={`MDO UAGro | ${profesor.nombre}`}
  description={`Ficha academica de ${profesor.nombreCompleto} en la Maestria en Direccion de Organizaciones.`}
>
  <section class="relative py-16 bg-hero-gradient overflow-hidden">
    <div class="absolute inset-0 bg-spotlight" />
    <div class="relative max-w-6xl mx-auto px-4">
      <a href="/nucleo-academico" class="inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 transition-colors">
        <ArrowLeft className="h-4 w-4" />
        Volver al Nucleo Academico
      </a>

      <div class="flex flex-col md:flex-row gap-8 items-start">
        <div class="w-48 h-56 rounded-2xl overflow-hidden bg-muted flex-shrink-0 shadow-lg">
          {
            profesor.foto ? (
              <img src={profesor.foto} alt={profesor.nombreCompleto} class="w-full h-full object-cover" />
            ) : (
              <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/10 to-accent/10">
                <User className="h-20 w-20 text-muted-foreground/50" />
              </div>
            )
          }
        </div>

        <div>
          <span class="text-accent font-medium">{profesor.grado}</span>
          <h1 class="font-display text-3xl md:text-4xl font-bold text-foreground mt-1 mb-2">{profesor.nombre}</h1>
          {profesor.area && <p class="text-lg text-muted-foreground mb-4">{profesor.area}</p>}
          {
            profesor.linea && (
              <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-primary/10 rounded-lg text-sm text-primary">
                <BookOpen className="h-4 w-4" />
                {profesor.linea}
              </div>
            )
          }
          {
            profesor.email && (
              <div class="mt-4">
                <a href={`mailto:${profesor.email}`} class="inline-flex items-center gap-2 text-accent hover:underline">
                  <Mail className="h-4 w-4" />
                  {profesor.email}
                </a>
              </div>
            )
          }
        </div>
      </div>
    </div>
  </section>

  <section class="py-12">
    <div class="max-w-4xl mx-auto px-4 space-y-8">
      <div class="bg-card rounded-2xl p-6 border border-border">
        <h2 class="font-display text-xl font-semibold text-foreground mb-4 flex items-center gap-2">
          <User className="h-5 w-5 text-primary" />
          Semblanza
        </h2>
        <p class="text-muted-foreground leading-relaxed">{profesor.semblanza || "Informacion proximamente disponible."}</p>
      </div>

      <div class="bg-card rounded-2xl p-6 border border-border">
        <h2 class="font-display text-xl font-semibold text-foreground mb-4 flex items-center gap-2">
          <GraduationCap className="h-5 w-5 text-primary" />
          Historial Academico
        </h2>
        {
          profesor.historialAcademico && profesor.historialAcademico.length > 0 ? (
            <ul class="space-y-3">
              {profesor.historialAcademico.map((item: string) => (
                <li class="flex items-start gap-3">
                  <span class="w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0" />
                  <span class="text-muted-foreground">{item}</span>
                </li>
              ))}
            </ul>
          ) : (
            <p class="text-muted-foreground">Informacion proximamente disponible.</p>
          )
        }
      </div>

      <div class="bg-card rounded-2xl p-6 border border-border">
        <h2 class="font-display text-xl font-semibold text-foreground mb-4 flex items-center gap-2">
          <FileText className="h-5 w-5 text-primary" />
          Publicaciones Recientes
        </h2>
        {
          profesor.publicaciones && profesor.publicaciones.length > 0 ? (
            <div class="space-y-4">
              {profesor.publicaciones.map((pub: { titulo: string; anio: string; tipo: string }) => (
                <div class="p-4 bg-muted/50 rounded-xl">
                  <p class="font-medium text-foreground">{pub.titulo}</p>
                  <div class="flex items-center gap-3 mt-2 text-sm text-muted-foreground">
                    <span>{pub.anio}</span>
                    <span class="px-2 py-0.5 bg-accent/10 text-accent rounded text-xs">{pub.tipo}</span>
                  </div>
                </div>
              ))}
            </div>
          ) : (
            <p class="text-muted-foreground">Informacion proximamente disponible.</p>
          )
        }
      </div>
    </div>
  </section>
</BaseLayout>

